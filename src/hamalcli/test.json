{
    "name": "nginxtest",
    "applications": [
        {
            "app_id": "nginx0052-xcm-dataman",
            "orchestration": {
                "appID": "nginx0052",
                "cmd": null,
                "cpus": 0.05,
                "mem": 6,
                "disk": 0,
                "runAs": "xcm",
                "instances": 5,
                "container": {
                    "docker": {
                        "image": "blackicebird/2048",
                        "network": "BRIDGE",
                        "forcePullImage": false,
                        "privileged": true,
                        "parameters": [
                            {
                                "key": "label",
                                "value": "APP_ID=nginx"
                            }
                        ],
                        "portMappings": [
                            {
                                "containerPort": 80,
                                "protocol": "tcp",
                                "name": "web"
                            }
                        ]
                    },
                    "type": "DOCKER"
                },
                "uris": [
                ],
                "env": {
                    "DB": "mysql"
                },
                "labels": {
                    "USER_ID": "1"
                },
                "killPolicy": {
                    "duration": 5
                },
                "healthChecks": [
                    {
                        "protocol": "TCP",
                        "path": "/",
                        "delaySeconds": 15,
                        "gracePeriodSeconds": 5,
                        "portName": "web",
                        "intervalSeconds": 3,
                        "timeoutSeconds": 3,
                        "consecutiveFailures": 5
                    }
                ],
                "updatePolicy": {
                    "updateDelay": 5,
                    "maxRetries": 3,
                    "maxFailovers": 3,
                    "action": "rollback"
                }
            },
            "rolling_update_policy": [
                {
                    "instances_to_update": 1
                },
                {
                    "instances_to_update": 2
                },
                {
                    "instances_to_update": 1
                },
                {
                    "instances_to_update": 1
                }
            ]
        }
    ]
}
